xy_fota
芯翼FOTA升级相关源码，如果使用第三方客户的FOTA算法，如艾拉比、广升、红石等，无需参考这部分内容，需客户自行与第三方客户联系！
===========================

###########目录结构描述
├── readme.md                   // help
├── inc                         // 头文件
└── src                         // 源码
	├── xy_fota_utils.c         // FOTA升级公共接口，如flash差分包保存地址获取、版本号获取等，这些接口供芯翼自研FOTA和第三方FOTA方案共同使用！
	├── xy_fota.c               // 芯翼提取的FOTA升级的相关API接口，可用于客户基于芯翼FOTA主功能的二次开发，但客户不得修改其源码！！！
	├── at_fota.c				// AT命令FOTA升级相关代码，使用了xy_fota.c的相关接口，客户可以自行修改相关的AT命令
	└── xy_fota_by_ble.c        // 基于蓝牙提供的芯翼FOTA升级流程代码，使用了xy_fota.c的相关接口，客户无需关心！

	

###########芯翼自研FOTA方案的用户开发参考

                                                 ┌────────────┐
                                                 │   start    │
                                                 │            │
                                                 └─────┬──────┘
                                                       │
                                                       │
                                                       │                                       
										 ┌─────────────▼───────────────┐
                                         │                             │
                                         │  get_xyDelta_data(eg. http) │
                                         │                             │◄─────┐
                                         │ 通过其他协议获取差分包数据  │      │                                        
										 └─────────────┬───────────────┘      │
                                                       │                      │
                                                       │                      │
                                                       │                      │
                                                       ▼                      │                                        
										 ┌─────────────────────────────┐      │
                                         │     ota_write_to_flash      │ERROR │
                                         │      差分包版本校验         │──────│
                                         │    将数据写入到flash中      │      │
                                         │                             │      │                                         
										 └─────────────┬───────────────┘      │
                                                       │                      │
                                                       │                      │
                                                       │                      │
                                                       ▼                      │
┌───────────────────────────┐        	 ┌─────────────────────────────┐      │
│  ota_clear_update_result  │            │      ota_delta_check        │ERROR │
│                           │            │                             │──────│
│      获取升级结果后       │            │  从flash中读取差分包数据    │      │
│使用该函数清除flash中的数据│            │  进行校验，该校验不是必须   │      │
└───────────────────────────┘            └─────────────┬───────────────┘      │
             ▲                                         │                      │
             │                                         │                      │
             │                                         │                      │
┌────────────┴──────────────┐            ┌─────────────▼───────────────┐      │
│   ota_get_update_result   │            │      ota_update_start       │ERROR │
│       升级结束后          │            │根据需求对差分包数据进行校验 ├──────┘
│ 通过该函数可以获取升级结果│◄───────────┤校验数据后，设置二级boot升级 │
│                           │            │信息，重启进行升级           │
└───────────────────────────┘            └─────────────────────────────┘

